<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>จองคิว</title>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
<h2>ระบบจองคิว</h2>
<button onclick="reserve()">กดจองคิว</button>
<p id="result"></p>

<script>
const liffId = "2008930440-jI56TpIn";

async function reserve() {
  await liff.init({ liffId });
  const profile = await liff.getProfile();

  const data = {
    userId: profile.userId,
    name: profile.displayName
  };

  const res = await fetch("ใส่_GAS_URL", {
    method: "POST",
    body: JSON.stringify(data)
  });

  const result = await res.json();
  document.getElementById("result").innerText =
    `คุณได้คิวที่ ${result.queue} เหลืออีก ${result.left} คิว`;
}
</script>
</body>
</html>
